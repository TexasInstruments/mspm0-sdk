<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>MSPM0H321X Driver Library: MSPM0 Driver Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MSPM0H321X Driver Library
   &#160;<span id="projectnumber">2.05.01.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MSPM0 Driver Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction</h2>
<p>The Texas Instruments MSPM0 Driver Library (DriverLib) is a set of fully functional APIs used to configure, control, and manipulate the hardware peripherals of the MSPM0 platform.</p>
<p>In addition to being able to control all MSPM0 peripherals, DriverLib also gives the user the ability to use common Arm peripherals such as the Interrupt Controller (NVIC) and SysTick.</p>
<p>DriverLib for MSPM0 Series has been tested and compiled under a variety of different toolchains.</p>
<table class="doxtable">
<tr>
<th>Toolchain  </th></tr>
<tr>
<td>Texas Instruments Code Composer Studio 20.2.0 </td></tr>
<tr>
<td>Texas Instruments Code Composer Studio (Eclipse) 12.8.0 </td></tr>
<tr>
<td>IAR Embedded Workbench for Arm 9.60.4 </td></tr>
<tr>
<td>GNU C Compiler 9.2.1 (gcc) </td></tr>
<tr>
<td>Keil uVision 5.38 </td></tr>
</table>
<p>The DriverLib is meant to provide a software layer to the programmer in order to facilitate higher level of programming compared to direct register accesses.</p>
<p>Nearly every aspect of a MSPM0 device can be configured and driven using the DriverLib APIs. By using the high level software APIs provided by DriverLib, users can create powerful and intuitive code which is highly portable between devices.</p>
<p>Writing code in DriverLib will make user code more legible and easier to share among a group.</p>
<p>For example, examine the following code snippets which implement a very simple function to initialize a pin with SPI1_CLK functionality.</p>
<p>Register level: </p><pre class="fragment">IOMUX-&gt;SECCFG.PINCM[25] = 0x00040083;
</pre><p>Register level with MSPM0 header files: </p><pre class="fragment">IOMUX-&gt;SECCFG.PINCM[IOMUX_PINCM26] =
    IOMUX_PINCM26_PF_SPI1_SCLK | IOMUX_PINCM_PC_CONNECTED | IOMUX_PINCM_INENA_ENABLE;
</pre><p>MSPM0 DriverLib: </p><pre class="fragment">DL_GPIO_initPeripheralInputFunction(
    IOMUX_PINCM26, IOMUX_PINCM26_PF_SPI1_SCLK);
</pre><p>As observed, the DriverLib API is more readable, sensible, and easy to program for a software engineer. And not only that, but the generated code will be exactly the same. <b>In most cases, DriverLib will generate code which is just as memory-efficient as writing register level code.</b></p>
<h2>What DriverLib is not</h2>
<p>DriverLib is not meant to provide a layer of intelligence on the level of a user application. It is meant to be an aid to the programmer to be part of the larger solution- not the solution itself.</p>
<p>For example, interrupt handlers are also not included with the DriverLib APIs. APIs to manage/enable/disable interrupts are included, however the actual authoring of the interrupt service routine is left up to the programmer.</p>
<p>For reference, a typical interrupt handler that takes advantage of DriverLib APIs can be seen in the following code snippet: </p><pre class="fragment">void GROUP1_IRQHandler(void)
{
    switch (DL_Interrupt_getPendingGroup(DL_INTERRUPT_GROUP_1)) {
        case DL_INTERRUPT_GROUP1_IIDX_GPIOB:
            if (DL_GPIO_readPins(GPIOB, DL_GPIO_PIN_21)) {
                DL_GPIO_clearPins(GPIOA, DL_GPIO_PIN_0);
            }
            else {
                DL_GPIO_setPins(GPIOA, DL_GPIO_PIN_0);
            }
            break;
    }
}
</pre><h2>Cross Module Considerations</h2>
<p>Each DriverLib module will, for the most part, only interact and configure the module that it is designed for. Any cross-module interaction is left up to the user.</p>
<p>For example, a UART DriverLib initialization function is not able to configure the baudrate automatically at 9600bps since it has no visibility over the system frequency.</p>
<h2>File Structure</h2>
<p>DriverLib is released with full source code and as a pre-compiled library for CCS, IAR and Keil.</p>
<ul>
<li>Source files are included at <code>&lt;MSPM0 SDK&gt;\source\ti\driverlib</code>.<ul>
<li>Files residing in this root folder are generic for all MSPM0 platforms because the peripherals are shared.</li>
<li>Files residing inside <code>&lt;MSPM0 SDK&gt;\source\ti\driverlib\m0p</code> are specific to different MSPM0 families.</li>
</ul>
</li>
<li>Pre-built libraries are included at <code>&lt;MSPM0 SDK&gt;\source\ti\driverlib\lib</code>.</li>
</ul>
<h2>Getting Started</h2>
<p>Getting started using DriverLib for MSPM0 Series is very simple regardless of the chosen development environment.</p>
<p>Empty "skeleton" projects for CCS using TI Arm Clang and GCC, IAR and Keil are provided in the examples directory of the MSPM0 SDK.</p><ul>
<li>empty: Includes a blank main file, all necessary project files, and a link to a pre-built driverLib. Note that this same approach is used for most DriverLib examples.</li>
<li>empty_driverlib_src: Includes a blank main file, all necessary project files, and complete driverLib source. While this approach is slower to build, it provides an easy way to modify driverLib on a custom project.</li>
</ul>
<h3>Adding DriverLib source to existing projects</h3>
<p>The code examples included in the SDK use a pre-built DriverLib library which can be used to develop an application but doesn’t allow direct changes to DriverLib source.</p>
<p>The following steps explain how to add DriverLib source to an existing project.</p>
<h4>CCS projects</h4>
<ol type="1">
<li><p class="startli">Follow the next steps when using an existing project with prebuilt library, otherwise go to step 2.</p>
<p class="startli">1a. On the project you want to add the DriverLib source to, go to project's <b>Properties → Build → Arm Linker → File Search Path</b> locate <b>driverlib.a</b> in <b>Include library file or command file as input</b> and select it.</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_1.png"/>
</div>
<p class="startli">1b. With <b>driverlib.a</b> selected, click the <b>Delete</b> button</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_2.png"/>
</div>
<p class="startli">1c. Click <b>Apply and Close</b></p>
</li>
<li><p class="startli">Copy or Link the DriverLib source.</p>
<p class="startli"><em>Copying</em> allows modifications without affecting the original SDK source. This option is useful if you want a self-contained project.</p>
<p class="startli"><em>Linking</em> allows modifications directly to the original SDK source. Use this option to change the SDK code base, so that it's shared accross multiple projects.</p>
<p class="startli">The following steps shows how to copy the source. Jump to Step 4 to link the source.</p>
<p class="startli">2a. Locate the DriverLib source in the installation folder <code>&lt;MSPM0_SDK_INSTALL_DIR&gt;/source/ti/driverlib</code></p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_3.png"/>
</div>
<p class="startli">2b. Copy the folder</p>
<p class="startli">2c. Locate the CCS folder with the current project. The picture below shows a shortcut by right-clicking on the example, selecting <b>Show in Local Terminal → System Explorer</b>:</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_4.png"/>
</div>
<p class="startli">2d. Go inside the folder and paste the driverlib folder</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_5.png"/>
</div>
<p class="startli">2e. Right-click on the <em>driverlib/lib</em> folder and select <b>Exclude from Build</b> to exclude it from the project</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_6.png"/>
</div>
<p class="startli">2f. Go to Step 4 since linking is not required when copying the source files</p>
</li>
<li><p class="startli">Follow the next steps to link the DriverLib source folder:</p>
<p class="startli">3a. Right click on the project root folder and click on <b>New &gt; Folder</b></p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_7.png"/>
</div>
<p class="startli">3b. Click on “**Link to alternate location (Linked Folder)**” and then on “**Variables**”</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_8.png"/>
</div>
<p class="startli">3c. Select <em>COM_TI_MSPM0_SDK_INSTALL_DIR</em> and then click on “**Extend**”</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_9.png"/>
</div>
<p class="startli">3d. Select <em>source &gt; ti &gt; driverlib</em>, then click <b>OK</b></p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_10.png"/>
</div>
<p class="startli">3e. Note that the linked path will be relative to the SDK installation. Click <b>Finish</b></p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_11.png"/>
</div>
<p class="startli">3f. Right-click on the <em>driverlib/lib</em> folder and select <b>Exclude from Build</b> to exclude the lib folder from the project</p>
<div class="image">
<img src="../../images/ccs_add_dl_source_code_12.png"/>
</div>
</li>
<li>Confirm that the project includes a path to DriverLib header files in <b>Properties → Build → Arm compiler → Incude Options</b> as shown below: <div class="image">
<img src="../../images/ccs_add_dl_source_code_2a.png"/>
</div>
</li>
<li>Rebuild the project</li>
</ol>
<h4>IAR projects</h4>
<ol type="1">
<li><p class="startli">Follow the next step when using an existing project with prebuilt library, otherwise go to step 2.</p>
<p class="startli">1a. On the project you want to add the DriverLib source to, go to project's <b>Options</b>, then <b>Linker → Extra Options</b> and delete the line with <b>driverlib.a</b></p>
<div class="image">
<img src="../../images/iar_driverlib_src_1.png"/>
</div>
</li>
<li><p class="startli">Add the DriverLib source to the project.</p>
<p class="startli">The files can be added directly from SDK or copied into the project folder.</p><ul>
<li><em>Copying</em> allows modifications without affecting the original SDK source. This option is useful if you want a self-contained project. Simply copy-paste the driverlib folder <code>&lt;MSPM0_SDK_INSTALL_DIR&gt;/source/ti/driverlib</code> into your project and add the copied files.</li>
<li><p class="startli"><em>Using files directly from SDK</em> allows modifications directly to the original SDK source. Use this option to change the SDK code base, so that it's shared across multiple projects. To use this option, add the files directly from <code>&lt;MSPM0_SDK_INSTALL_DIR&gt;/source/ti/driverlib</code>.</p>
<p class="startli">Files can be organized into groups by selecting <b>Project → Add group</b>, and the files can be added either by selecting <b>Project → Add files</b> or by drag-and-dropping them into the workspace.</p>
<div class="image">
<img src="../../images/iar_driverlib_src_2.png"/>
</div>
</li>
</ul>
</li>
<li>Confirm that the project includes a path to DriverLib header files in <b>Project Options → C/C++ Compiler → Preprocessor</b> as shown below: <div class="image">
<img src="../../images/iar_driverlib_src_3.png"/>
</div>
</li>
<li>Rebuild the project</li>
</ol>
<h4>Keil projects</h4>
<ol type="1">
<li><p class="startli">Follow the next step when using an existing project with prebuilt library, otherwise go to step 2.</p>
<p class="startli">1a. On the project you want to add the DriverLib source to, go to the Project window, expand the DriverLib folder and delete <b>driverlib.a</b></p>
<div class="image">
<img src="../../images/keil_add_dl_source_code_1.png"/>
</div>
</li>
<li><p class="startli">Add the DriverLib source to the project.</p>
<p class="startli">2a. Right-click the DriverLib folder and select "Add existing Files to Group "DriverLib"</p>
<div class="image">
<img src="../../images/keil_add_dl_source_code_2.png"/>
</div>
<p class="startli">2b. Go to the driverLib source folder at <code>&lt;MSPM0_SDK_INSTALL_DIR&gt;/source/ti/driverlib</code> and add all files, including those in sub-folders, except for <b>lib</b></p>
<div class="image">
<img src="../../images/keil_add_dl_source_code_3.png"/>
</div>
</li>
<li>Confirm that the project includes a path to DriverLib header files in <b>Project Options → C/C++ → Include Paths</b> as shown below: <div class="image">
<img src="../../images/keil_add_dl_source_code_4.png"/>
</div>
</li>
<li>Rebuild the project </li>
</ol>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">© Copyright 1995-2025</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
