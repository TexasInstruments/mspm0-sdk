<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>EEPROM Library Overview: EEPROM Emulation Type A</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EEPROM Library Overview
   &#160;<span id="projectnumber">1.0.0.x</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">EEPROM Emulation Type A</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for EEPROM Emulation Type A:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___e_e_p_r_o_m___t_y_p_e___a.png" border="0" alt="" usemap="#group______e__e__p__r__o__m______t__y__p__e______a"/>
<map name="group______e__e__p__r__o__m______t__y__p__e______a" id="group______e__e__p__r__o__m______t__y__p__e______a">
<area shape="rect" id="node1" href="group___e_e_p_r_o_m___t_y_p_e___a___s_t_a_t_u_s.html" title="EEPROM_TYPE_A_STATUS" alt="" coords="281,5,469,32"/>
<area shape="rect" id="node2" href="group___e_e_p_r_o_m___t_y_p_e___a___u_s_e_r___c_o_n_f_i_g_u_r_a_b_l_e___p_a_r_a_m_e_t_e_r_s.html" title="EEPROM_TYPE_A_USER\l_CONFIGURABLE_PARAMETERS" alt="" coords="261,57,488,98"/>
<area shape="rect" id="node4" href="group___e_e_p_r_o_m___t_y_p_e___a___l_i_b___p_a_r_a_m_e_t_e_r_s.html" title="EEPROM_TYPE_A_LIB_PARAMETERS" alt="" coords="248,123,501,149"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___e_e_p_r_o_m___t_y_p_e___a___u_s_e_r___c_o_n_f_i_g_u_r_a_b_l_e___p_a_r_a_m_e_t_e_r_s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a___u_s_e_r___c_o_n_f_i_g_u_r_a_b_l_e___p_a_r_a_m_e_t_e_r_s.html">EEPROM_TYPE_A_USER_CONFIGURABLE_PARAMETERS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___e_e_p_r_o_m___t_y_p_e___a___l_i_b___p_a_r_a_m_e_t_e_r_s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a___l_i_b___p_a_r_a_m_e_t_e_r_s.html">EEPROM_TYPE_A_LIB_PARAMETERS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___e_e_p_r_o_m___t_y_p_e___a___s_t_a_t_u_s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a___s_t_a_t_u_s.html">EEPROM_TYPE_A_STATUS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf0365a9c62e0da12e945a47ab4a8690c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gaf0365a9c62e0da12e945a47ab4a8690c">EEPROM_TypeA_writeData</a> (uint32_t *data)</td></tr>
<tr class="memdesc:gaf0365a9c62e0da12e945a47ab4a8690c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store provided data to the virtual EEPROM.  <a href="#gaf0365a9c62e0da12e945a47ab4a8690c">More...</a><br /></td></tr>
<tr class="separator:gaf0365a9c62e0da12e945a47ab4a8690c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7a2400157acc226bb8da7cf51180724"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gae7a2400157acc226bb8da7cf51180724">EEPROM_TypeA_init</a> (uint32_t *data)</td></tr>
<tr class="memdesc:gae7a2400157acc226bb8da7cf51180724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the specified area in flash.  <a href="#gae7a2400157acc226bb8da7cf51180724">More...</a><br /></td></tr>
<tr class="separator:gae7a2400157acc226bb8da7cf51180724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe5b4deffd9cbf20722b0ae37c6e70f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gafe5b4deffd9cbf20722b0ae37c6e70f7">EEPROM_TypeA_readData</a> (uint32_t *data)</td></tr>
<tr class="memdesc:gafe5b4deffd9cbf20722b0ae37c6e70f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the data from active record to the buffer in RAM.  <a href="#gafe5b4deffd9cbf20722b0ae37c6e70f7">More...</a><br /></td></tr>
<tr class="separator:gafe5b4deffd9cbf20722b0ae37c6e70f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21ec5bda5e35974cad5425db95533c1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga21ec5bda5e35974cad5425db95533c1a">EEPROM_TypeA_repairFormat</a> (uint32_t *data)</td></tr>
<tr class="memdesc:ga21ec5bda5e35974cad5425db95533c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair the format.  <a href="#ga21ec5bda5e35974cad5425db95533c1a">More...</a><br /></td></tr>
<tr class="separator:ga21ec5bda5e35974cad5425db95533c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91238ff7aff2774c031f50a77aa8c002"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga91238ff7aff2774c031f50a77aa8c002">EEPROM_TypeA_searchCheck</a> (void)</td></tr>
<tr class="memdesc:ga91238ff7aff2774c031f50a77aa8c002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search the active record and check the format.  <a href="#ga91238ff7aff2774c031f50a77aa8c002">More...</a><br /></td></tr>
<tr class="separator:ga91238ff7aff2774c031f50a77aa8c002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f6b1e26a2e639b89e91be581ded732e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga9f6b1e26a2e639b89e91be581ded732e">EEPROM_TypeA_eraseLastSector</a> (void)</td></tr>
<tr class="memdesc:ga9f6b1e26a2e639b89e91be581ded732e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the previous sector of the active sector.  <a href="#ga9f6b1e26a2e639b89e91be581ded732e">More...</a><br /></td></tr>
<tr class="separator:ga9f6b1e26a2e639b89e91be581ded732e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f80eb179fffa638fb89c8dd2b07b1cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga9f80eb179fffa638fb89c8dd2b07b1cd">EEPROM_TypeA_eraseNonActiveSectors</a> (void)</td></tr>
<tr class="memdesc:ga9f80eb179fffa638fb89c8dd2b07b1cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases sectors other than the active sector.  <a href="#ga9f80eb179fffa638fb89c8dd2b07b1cd">More...</a><br /></td></tr>
<tr class="separator:ga9f80eb179fffa638fb89c8dd2b07b1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a1b29951ba92f27090b0fe9cb96589c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga4a1b29951ba92f27090b0fe9cb96589c">EEPROM_TypeA_eraseAllSectors</a> (void)</td></tr>
<tr class="memdesc:ga4a1b29951ba92f27090b0fe9cb96589c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase all sectors used by EEPROM emulation.  <a href="#ga4a1b29951ba92f27090b0fe9cb96589c">More...</a><br /></td></tr>
<tr class="separator:ga4a1b29951ba92f27090b0fe9cb96589c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga26c38eacba5b63aeb461de3967733f6e"><td class="memItemLeft" align="right" valign="top"><a id="ga26c38eacba5b63aeb461de3967733f6e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga26c38eacba5b63aeb461de3967733f6e">gActiveRecordAddress</a></td></tr>
<tr class="memdesc:ga26c38eacba5b63aeb461de3967733f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the address of the current active record. <br /></td></tr>
<tr class="separator:ga26c38eacba5b63aeb461de3967733f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac190578b4a1c9df9d5746cb9c54401a4"><td class="memItemLeft" align="right" valign="top"><a id="gac190578b4a1c9df9d5746cb9c54401a4"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gac190578b4a1c9df9d5746cb9c54401a4">gNextRecordAddress</a></td></tr>
<tr class="memdesc:gac190578b4a1c9df9d5746cb9c54401a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the address of the next active record. <br /></td></tr>
<tr class="separator:gac190578b4a1c9df9d5746cb9c54401a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cde1bdc13f980b640c1ee38a1b2313b"><td class="memItemLeft" align="right" valign="top"><a id="ga5cde1bdc13f980b640c1ee38a1b2313b"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga5cde1bdc13f980b640c1ee38a1b2313b">gActiveRecordNum</a></td></tr>
<tr class="memdesc:ga5cde1bdc13f980b640c1ee38a1b2313b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the number of active records. <br /></td></tr>
<tr class="separator:ga5cde1bdc13f980b640c1ee38a1b2313b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7d6c28a59e0b1222846a653ddcfd3e3"><td class="memItemLeft" align="right" valign="top"><a id="gab7d6c28a59e0b1222846a653ddcfd3e3"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gab7d6c28a59e0b1222846a653ddcfd3e3">gActiveSectorNum</a></td></tr>
<tr class="memdesc:gab7d6c28a59e0b1222846a653ddcfd3e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the number of active sectors. <br /></td></tr>
<tr class="separator:gab7d6c28a59e0b1222846a653ddcfd3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabafb82f026c8a711cee4701dff0d3e3f"><td class="memItemLeft" align="right" valign="top"><a id="gabafb82f026c8a711cee4701dff0d3e3f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gabafb82f026c8a711cee4701dff0d3e3f">gEEPROMTypeASearchFlag</a></td></tr>
<tr class="memdesc:gabafb82f026c8a711cee4701dff0d3e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate when the active record exists. <br /></td></tr>
<tr class="separator:gabafb82f026c8a711cee4701dff0d3e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a3b324a771175d6524871552f149602"><td class="memItemLeft" align="right" valign="top"><a id="ga6a3b324a771175d6524871552f149602"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga6a3b324a771175d6524871552f149602">gEEPROMTypeAEraseFlag</a></td></tr>
<tr class="memdesc:ga6a3b324a771175d6524871552f149602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate when the sector is full nad needs to be erased. <br /></td></tr>
<tr class="separator:ga6a3b324a771175d6524871552f149602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafb29fbf604b15353d6b38ce192ec384"><td class="memItemLeft" align="right" valign="top"><a id="gaafb29fbf604b15353d6b38ce192ec384"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gaafb29fbf604b15353d6b38ce192ec384">gEEPROMTypeAFormatErrorFlag</a></td></tr>
<tr class="memdesc:gaafb29fbf604b15353d6b38ce192ec384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate when a format error is found. <br /></td></tr>
<tr class="separator:gaafb29fbf604b15353d6b38ce192ec384"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a class="anchor" id="EEPROM_EMULATION_TYPE_A_H__Overview"></a></p><h1>Overview</h1>
<p>MSPM0 support EEPROM emulation through its internal Flash. Compared to using an external serial EEPROM, EEPROM emulation using the internal Flash saves pin usage and cost. The EEPROM emulation Type A solution is suitable if the user application needs to store large "blocks" of data.</p>
<hr/>
 <h2 class="groupheader">Function Documentation</h2>
<a id="gaf0365a9c62e0da12e945a47ab4a8690c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0365a9c62e0da12e945a47ab4a8690c">&sect;&nbsp;</a></span>EEPROM_TypeA_writeData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t EEPROM_TypeA_writeData </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store provided data to the virtual EEPROM. </p>
<p>The function will store the data to the flash to be a new record. It will also add a header to the record to mark its state. When the flash sector is full, it will set the gEEPROMTypeAEraseFlag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the buffer in RAM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EEPROM_EMULATION_WRITE_OK</td><td>Program was successful </td></tr>
    <tr><td class="paramname">EEPROM_EMULATION_FORMAT_ERROR</td><td>Next address was not erased</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The user must ensure that the length of the buffer in RAM is equal to the length of the data portion of the record. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>When the sector is full, the function only set the gEEPROMTypeAEraseFlag. The user should erase the sector before all sectors are full. Refer to <a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#ga9f6b1e26a2e639b89e91be581ded732e">EEPROM_TypeA_eraseLastSector</a>. </dd></dl>

</div>
</div>
<a id="gae7a2400157acc226bb8da7cf51180724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7a2400157acc226bb8da7cf51180724">&sect;&nbsp;</a></span>EEPROM_TypeA_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t EEPROM_TypeA_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the specified area in flash. </p>
<p>The function will first search the active record and check the format at the specified area. If active record exists, it will copy the data of active record to the buffer in RAM. If format is not correct, it will repair the format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the buffer in RAM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EEPROM_EMULATION_INIT_OK</td><td>Program was successful </td></tr>
    <tr><td class="paramname">EEPROM_EMULATION_INIT_ERROR</td><td>Next address was not erased</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The user must ensure that the length of the buffer in RAM is equal to the length of the data portion of the record. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>After <a class="el" href="group___e_e_p_r_o_m___t_y_p_e___a.html#gae7a2400157acc226bb8da7cf51180724">EEPROM_TypeA_init</a>, there will be a format-correct area in flash, a buffer in RAM copied the active record, and some global variables that have been written.</dd></dl>
<p>4 global variables about active record: gActiveRecordAddress gNextRecordAddress gActiveRecordNum gActiveSectorNum 3 global variables about format: gEEPROMTypeASearchFlag gEEPROMTypeAEraseFlag gEEPROMTypeAFormatErrorFlag </p>

</div>
</div>
<a id="gafe5b4deffd9cbf20722b0ae37c6e70f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe5b4deffd9cbf20722b0ae37c6e70f7">&sect;&nbsp;</a></span>EEPROM_TypeA_readData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEPROM_TypeA_readData </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the data from active record to the buffer in RAM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the buffer in RAM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The user must ensure that the length of the buffer in RAM is equal to the length of the data portion of the record. </dd></dl>

</div>
</div>
<a id="ga21ec5bda5e35974cad5425db95533c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21ec5bda5e35974cad5425db95533c1a">&sect;&nbsp;</a></span>EEPROM_TypeA_repairFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EEPROM_TypeA_repairFormat </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Repair the format. </p>
<p>The function will first erase sectors other than the active sector. Then it will copy the data from the buffer in RAM to the beginning of next sector, which is to be new active record. 4 global variables about active record are updated too. Finally, the function erase the last sector</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the buffer in RAM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Program didn't succeed </td></tr>
    <tr><td class="paramname">true</td><td>Program was successful</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The user must firstly prepare the data in RAM before call the function. The user must ensure that the length of the buffer in RAM is equal to the length of the data portion of the record. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>After EEPROM_TypeA_repairFormat, all sectors are erased and the active record is at the beginning of next sector</dd></dl>
<p>NOTE: The user must firstly prepare the data in RAM before call the function. It is recommended to read active record into RAM first, then call the function to repair the format and write active record back. </p>

</div>
</div>
<a id="ga91238ff7aff2774c031f50a77aa8c002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91238ff7aff2774c031f50a77aa8c002">&sect;&nbsp;</a></span>EEPROM_TypeA_searchCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEPROM_TypeA_searchCheck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search the active record and check the format. </p>
<p>The function will traverse records� header. If the active record exists, gEEPROMTypeASearchFlag will be set, and 4 global variables about active record are updated. If the format is wrong, gEEPROMTypeAFormatErrorFlag is set</p>
<dl class="section post"><dt>Postcondition</dt><dd>If the active record exists, gEEPROMTypeASearchFlag will be set, and 4 global variables about active record are updated. If the format is wrong, gEEPROMTypeAFormatErrorFlag is set </dd></dl>

</div>
</div>
<a id="ga9f6b1e26a2e639b89e91be581ded732e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f6b1e26a2e639b89e91be581ded732e">&sect;&nbsp;</a></span>EEPROM_TypeA_eraseLastSector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EEPROM_TypeA_eraseLastSector </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase the previous sector of the active sector. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Program didn't succeed </td></tr>
    <tr><td class="paramname">true</td><td>Program was successful</td></tr>
  </table>
  </dd>
</dl>
<p>According to gActiveSectorNum, the function can find the sector with active record. Then it will erase the previous sector </p>

</div>
</div>
<a id="ga9f80eb179fffa638fb89c8dd2b07b1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f80eb179fffa638fb89c8dd2b07b1cd">&sect;&nbsp;</a></span>EEPROM_TypeA_eraseNonActiveSectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EEPROM_TypeA_eraseNonActiveSectors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases sectors other than the active sector. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Program didn't succeed </td></tr>
    <tr><td class="paramname">true</td><td>Program was successful</td></tr>
  </table>
  </dd>
</dl>
<p>According to gActiveSectorNum, the function can find the sector with active record. Then it will erase sectors other than the active sector </p>

</div>
</div>
<a id="ga4a1b29951ba92f27090b0fe9cb96589c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a1b29951ba92f27090b0fe9cb96589c">&sect;&nbsp;</a></span>EEPROM_TypeA_eraseAllSectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EEPROM_TypeA_eraseAllSectors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase all sectors used by EEPROM emulation. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the program succeeded</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Program didn't succeed </td></tr>
    <tr><td class="paramname">true</td><td>Program was successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">© Copyright 1995-2024</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
