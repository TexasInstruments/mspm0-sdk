<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stepper Motor Control Library Overview &mdash; Stepper Motor Control User Guide 1.0.00.x documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DRV8411A GUI User Guide" href="drv8411a/DRV8411A_GUI_User_Guide.html" />
    <link rel="prev" title="Stepper Motor Control User Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Stepper Motor Control User Guide
          </a>
              <div class="version">
                1.0.00.x
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stepper Motor Control Library Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#software-overview">1. Software Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-layer-overview">1.1 Application Layer Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hal-module">1.2 HAL Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#motor-driver-module">1.3 Motor Driver Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#motor-driver-pin-association">Motor Driver Pin Association</a></li>
<li class="toctree-l4"><a class="reference internal" href="#motor-driver-apis">Motor Driver APIs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stepper-library-module">1.4 Stepper Library Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Overview</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mspm0-driverlib-overview">1.5 MSPM0 DriverLib Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-guide">2. API Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues">3. Known Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-devices">4. Supported Devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#drv8411a">DRV8411A</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drv8889-q1">DRV8889-Q1</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="drv8411a/DRV8411A_GUI_User_Guide.html">DRV8411A GUI User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="drv8411a/DRV8411A_Hardware_User_Guide.html">DRV8411A Hardware User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="drv8889-q1/DRV8889-Q1_GUI_User_Guide.html">DRV8889-Q1 GUI User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="drv8889-q1/DRV8889-Q1_Hardware_User_Guide.html">DRV8889-Q1 Hardware User Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Stepper Motor Control User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Stepper Motor Control Library Overview</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stepper-motor-control-library-overview">
<h1>Stepper Motor Control Library Overview<a class="headerlink" href="#stepper-motor-control-library-overview" title="Permalink to this heading">¶</a></h1>
<section id="software-overview">
<h2>1. Software Overview<a class="headerlink" href="#software-overview" title="Permalink to this heading">¶</a></h2>
<p>Stepper Motor Control Library is made of three main layers. They are the Application layer, Modules Layer and MSPM0 DriverLib.</p>
<figure class="align-default" id="id2">
<img alt="Stepper library Architecture" src="../_images/Library-Architecture.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Stepper library Architecture</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="application-layer-overview">
<h3>1.1 Application Layer Overview<a class="headerlink" href="#application-layer-overview" title="Permalink to this heading">¶</a></h3>
<p>The user specific applications like GUI etc are present in this layer. From this layer various instances of motor driver module can be configured and used. If the user needs to perform any hardware specific actions the user is recommended to use the APIs from HAL module.</p>
</section>
<section id="hal-module">
<h3>1.2 HAL Module<a class="headerlink" href="#hal-module" title="Permalink to this heading">¶</a></h3>
<section id="overview">
<h4>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h4>
<p>HAL or Hardware Abstraction Layer creates an abstraction layer that provides APIs to configure different pins and peripherals. The goal of using HAL is to abstract all device specific configuration which simplifies porting of the library to various hardware by minimizing the updates needed to other components. The HAL is meant to abstract only the required pins or peripherals required for the application, this is done to make it light weight while still having flexibility for porting.</p>
<p>HAL is designed to have specific number of pins or channels associated with a peripheral. For understanding let us consider case of GPIOs. HAL has enum HAL_GPIO_OUT_PIN which has all the GPIO output pins as members as shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*! @enum HAL_GPIO_OUT_PIN */
typedef enum{
    /*! Index associated to output GPIO PIN 0 */
    HAL_GPIO_OUT_PIN_0 = 0,
    /*! Index associated to output GPIO PIN 1 */
    HAL_GPIO_OUT_PIN_1,
    /*! Index associated to output GPIO PIN 2 */
    HAL_GPIO_OUT_PIN_2,
    /*! Index associated to output GPIO PIN 3 */
    HAL_GPIO_OUT_PIN_3,
    /*! Index associated to output GPIO PIN 4 */
    HAL_GPIO_OUT_PIN_4,
    /*! Index associated to output GPIO PIN 5 */
    HAL_GPIO_OUT_PIN_5,
    /*! Index associated to output GPIO PIN 6 */
    HAL_GPIO_OUT_PIN_6,
    /*! Index associated to output GPIO PIN 7 */
    HAL_GPIO_OUT_PIN_7,
    /*! Index associated to output GPIO PIN 8 */
    HAL_GPIO_OUT_PIN_8,
    /*! Index associated to output GPIO PIN 9 */
    HAL_GPIO_OUT_PIN_9,
    /*! Total number of output GPIO pins */
    HAL_GPIO_OUT_PIN_MAX,
}HAL_GPIO_OUT_PIN;
</pre></div>
</div>
<p>To map the HAL GPIO pins to the real hardware pins we use a structure which is indexed by the members of the HAL_GPIO_OUT_PIN enum and this structure stores various members like the port, pin name etc. See below the gpioOUT structure which holds data on the port and pin.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gpioOUT</span><span class="p">[</span><span class="n">HAL_GPIO_OUT_PIN_0</span><span class="p">]</span><span class="o">.</span><span class="n">iomux</span>   <span class="o">=</span> <span class="n">GENERIC_GPIO_OUT_PINO_0_IOMUX</span><span class="p">;</span>
<span class="n">gpioOUT</span><span class="p">[</span><span class="n">HAL_GPIO_OUT_PIN_0</span><span class="p">]</span><span class="o">.</span><span class="n">port</span>    <span class="o">=</span> <span class="n">GENERIC_GPIO_OUT_PORT</span><span class="p">;</span>
<span class="n">gpioOUT</span><span class="p">[</span><span class="n">HAL_GPIO_OUT_PIN_0</span><span class="p">]</span><span class="o">.</span><span class="n">pin</span>     <span class="o">=</span> <span class="n">GENERIC_GPIO_OUT_PINO_0_PIN</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that GENERIC_GPIO_OUT_PINO_0_PIN is defined in the TI Sysconfig generated files the specific line is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define GENERIC_GPIO_OUT_PINO_0_PIN                              (DL_GPIO_PIN_0)</span>
</pre></div>
</div>
<p>Thus HAL_GPIO_OUT_PIN_0 indirectly refers to DL_GPIO_PIN_0, but the advantage of this mapping is that since TI Sysconfig controls the generation of the GENERIC_GPIO_OUT_PINO_0_PIN it is very easy to change the pin in the TI Sysconfig gui and the HAL automatically follows this without the user having to change any code in the HAL layer.</p>
<p>As seen above when accessing the hardware through the HAL we need to pass a HAL specific enum like HAL_GPIO_OUT_PIN_0, these enums are stored in the instances that access the HAL layer, in the case of the motor driver drv8889q1 we initialize the instance with its pins assigned to the HAL enums as shown in the snippet below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">drv8889q1</span><span class="o">.</span><span class="n">dir</span>               <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_0</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">drvOff</span>            <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_1</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">nsleep</span>            <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_2</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">nfault</span>            <span class="o">=</span> <span class="n">HAL_GPIO_IN_PIN_0</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">vref</span>              <span class="o">=</span> <span class="n">HAL_DAC_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">step</span>              <span class="o">=</span> <span class="n">HAL_PWM_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">spi</span>               <span class="o">=</span> <span class="n">HAL_SPI_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8889q1</span><span class="o">.</span><span class="n">spiCS</span>             <span class="o">=</span> <span class="n">HAL_SPI_CS_2</span><span class="p">;</span>
</pre></div>
</div>
<p>Now if the we need to set the nSLEEP pin high we use the API DRV8889Q1_setNSleep() and pass this drv8889q1 instance with it, the code snippet is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">DRV8889Q1_setNSleep</span><span class="p">(</span><span class="n">DRV8889Q1_Instance</span> <span class="o">*</span><span class="n">handle</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">HAL_setGPIOVal</span><span class="p">(</span><span class="n">handle</span><span class="o">-&gt;</span><span class="n">nsleep</span><span class="p">,</span> <span class="n">HAL_GPIO_VALUE_HIGH</span><span class="p">);</span>
    <span class="o">/*</span> <span class="n">Startup</span> <span class="n">delay</span> <span class="k">for</span> <span class="n">the</span> <span class="n">DRV8889Q1</span> <span class="n">SPI</span> <span class="n">to</span> <span class="n">be</span> <span class="n">ready</span> <span class="o">*/</span>
    <span class="n">HAL_delayMilliSeconds</span><span class="p">(</span><span class="n">DRV8889Q1_SPI_READY_DELAY_MS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When DRV8889Q1_setNSleep() interacts with the HAL layer it passes the member of the drv8889q1 instance, an example can the seen in the above code snippet where the nsleep member of the drv8889q1 instance is passed to the HAL layer and this is the same concept for using other HAL APIs for timer, SPI, DAC etc. The user is free to expand the HAL’s API to support other peripherals and features of the microcontroller but its strongly recommended not to modify existing API to ensure easy migration to new versions of this library.</p>
</section>
</section>
<section id="motor-driver-module">
<h3>1.3 Motor Driver Module<a class="headerlink" href="#motor-driver-module" title="Permalink to this heading">¶</a></h3>
<p>Motor Driver Module abstracts all the motor driving tasks into simple APIs like start motor, stop motor, set speed etc. The idea of this layer is to be independent of the hardware and use the HAL APIs to perform the hardware tasks.</p>
<section id="motor-driver-pin-association">
<h4>Motor Driver Pin Association<a class="headerlink" href="#motor-driver-pin-association" title="Permalink to this heading">¶</a></h4>
<p>The user before using the Motor driver module is expected to specify the HAL enums mapped to the motor driver instance, see the below code snippet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="n">Assign</span> <span class="n">the</span> <span class="n">pins</span> <span class="n">specific</span> <span class="k">for</span> <span class="n">the</span> <span class="n">DRV</span> <span class="o">*/</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">ain1</span>               <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_0</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">ain2</span>               <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_1</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">bin1</span>               <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_2</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">bin2</span>               <span class="o">=</span> <span class="n">HAL_GPIO_OUT_PIN_3</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">nfault</span>             <span class="o">=</span> <span class="n">HAL_GPIO_IN_PIN_0</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">aipropi</span>            <span class="o">=</span> <span class="n">HAL_ADC_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">bipropi</span>            <span class="o">=</span> <span class="n">HAL_ADC_CHANNEL_1</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">vref</span>               <span class="o">=</span> <span class="n">HAL_DAC_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">indexerTimer</span>       <span class="o">=</span> <span class="n">HAL_TIM_CHANNEL_0</span><span class="p">;</span>
<span class="n">drv8411a</span><span class="o">.</span><span class="n">ADCTriggerTimer</span>    <span class="o">=</span> <span class="n">HAL_TIM_CHANNEL_1</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="motor-driver-apis">
<h4>Motor Driver APIs<a class="headerlink" href="#motor-driver-apis" title="Permalink to this heading">¶</a></h4>
<p>Motor driver module provides simple APIs which the user can use along with an instance of the motor drive module.</p>
<p>The motor driver layer APIs also handles the motor driver specific logic while keeping the APIs generic thus the user can use different motor drives and not worry of any difference in the internal logics, For example below is a part of DRV8411A_setPWMDrive API handling the H-bridge drive states.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">__STATIC_INLINE</span> <span class="n">void</span> <span class="n">DRV8411A_setPWMDrive</span><span class="p">(</span>
                                <span class="n">HAL_GPIO_OUT_PIN</span> <span class="n">in1</span><span class="p">,</span> <span class="n">HAL_GPIO_OUT_PIN</span> <span class="n">in2</span><span class="p">,</span>
                                <span class="n">STEPPER_DRIVE</span> <span class="n">drive</span><span class="p">,</span> <span class="n">DRV8411A_DECAY</span> <span class="n">decayMode</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">HAL_GPIO_VALUE</span> <span class="n">in1GpioVal</span>  <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
    <span class="n">HAL_GPIO_VALUE</span> <span class="n">in2GpioVal</span>  <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
    <span class="n">switch</span> <span class="p">(</span><span class="n">drive</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">case</span> <span class="n">STEPPER_DRIVE_DISABLE</span><span class="p">:</span>
            <span class="n">in1GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
            <span class="n">in2GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">STEPPER_DRIVE_DECAY</span><span class="p">:</span>
            <span class="k">if</span><span class="p">(</span><span class="n">decayMode</span> <span class="o">==</span> <span class="n">DRV8411A_DECAY_SLOW</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">in1GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_HIGH</span><span class="p">;</span>
                <span class="n">in2GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_HIGH</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">in1GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
                <span class="n">in2GpioVal</span> <span class="o">=</span> <span class="n">HAL_GPIO_VALUE_LOW</span><span class="p">;</span>
            <span class="p">}</span>
</pre></div>
</div>
<p>Note from the above code snippet that the task of setting the control output in the GPIOs to set the drive state could be different for each driver module, but since we use generic drive states which is handled by the motor driver module to set the correct output states based on its internal logic enables the Stepper library to be used with multiple motor driver modules.</p>
</section>
</section>
<section id="stepper-library-module">
<h3>1.4 Stepper Library Module<a class="headerlink" href="#stepper-library-module" title="Permalink to this heading">¶</a></h3>
<section id="id1">
<h4>Overview<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p>The stepper library contains the generic algorithms for stepper motor control. This layer helps to reduce the code size when using multiple motor driver modules.</p>
<p>This layer is used by the motor driver module and the user is not expected to use the APIs from this layer. The stepper Library is accessed through along with its instance from the motor driver layer which configures the generic algorithms and uses the stepper library APIs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">DRV8411A_setStepMode</span><span class="p">(</span><span class="n">DRV8411A_Instance</span> <span class="o">*</span><span class="n">handle</span><span class="p">,</span> <span class="n">DRV8411A_STEP</span> <span class="n">stepMode</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">stepMode</span> <span class="o">==</span> <span class="n">DRV8411A_STEP_FULL_STEP</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">handle</span><span class="o">-&gt;</span><span class="n">stepMode</span> <span class="o">=</span> <span class="n">stepMode</span><span class="p">;</span>
        <span class="n">STEPPER_setIndexerIncVal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">handle</span><span class="o">-&gt;</span><span class="n">indexer</span><span class="p">,</span> <span class="n">STEPPER_STEP_INC_DEC_FULL_STEP</span><span class="p">);</span>
        <span class="n">DRV8411A_setSpeed</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">handle</span><span class="o">-&gt;</span><span class="n">setFreq</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">stepMode</span> <span class="o">==</span> <span class="n">DRV8411A_STEP_HALF_STEP_NC</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">handle</span><span class="o">-&gt;</span><span class="n">stepMode</span> <span class="o">=</span> <span class="n">stepMode</span><span class="p">;</span>
        <span class="n">STEPPER_setIndexerIncVal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">handle</span><span class="o">-&gt;</span><span class="n">indexer</span><span class="p">,</span> <span class="n">STEPPER_STEP_INC_DEC_HALF_STEP</span><span class="p">);</span>
        <span class="n">DRV8411A_setSpeed</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">handle</span><span class="o">-&gt;</span><span class="n">setFreq</span><span class="p">);</span>
        <span class="n">STEPPER_setStepType</span><span class="p">(</span><span class="o">&amp;</span><span class="n">handle</span><span class="o">-&gt;</span><span class="n">indexer</span><span class="p">,</span> <span class="n">STEPPER_STEP_TYPE_NONCIR</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">STEPPER_setStepType</span><span class="p">(</span><span class="o">&amp;</span><span class="n">handle</span><span class="o">-&gt;</span><span class="n">indexer</span><span class="p">,</span> <span class="n">STEPPER_STEP_TYPE_CIR</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the above code the DRV8411A only sets the indexer increment decrement value to STEPPER_STEP_INC_DEC_FULL_STEP or STEPPER_STEP_INC_DEC_HALF_STEP. However there are more values to be set but as the DRV8411A doesn’t support these modes it doesn’t use them.</p>
<p>Also the stepper library is unaware of the driver interface of the motor driver module using its APIs, ie whether PWM or Phase Enable interface. The stepper library generates generic drive states which the motor driver module turns to control outputs based on the PWM or Phase enable logic this point is also discussed was shown in the Motor Driver APIs section.</p>
</section>
</section>
<section id="mspm0-driverlib-overview">
<h3>1.5 MSPM0 DriverLib Overview<a class="headerlink" href="#mspm0-driverlib-overview" title="Permalink to this heading">¶</a></h3>
<p>MSPM0 DriverLib is a set of fully functional APIs used to configure, control, and manipulate the hardware peripherals of the MSPM0 platform. Please refer the DriverLib documentation for more information.</p>
</section>
</section>
<section id="api-guide">
<h2>2. API Guide<a class="headerlink" href="#api-guide" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="../../doxygen/mspm0l1306-doc-srcs-api-guide/html/index.html">MSPM0L1306 Stepper Library API Guide</a></p></li>
<li><p><a class="reference external" href="../../doxygen/mspm0c1106-doc-srcs-api-guide/html/index.html">MSPM0C1106 Stepper Library API Guide</a></p></li>
<li><p><a class="reference external" href="../../doxygen/mspm0h3216-doc-srcs-api-guide/html/index.html">MSPM0H3216 Stepper Library API Guide</a></p></li>
</ul>
</section>
<section id="known-issues">
<h2>3. Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>In offline application the gui plots are sometimes not functional.</p></li>
<li><p>Issue with fail in program loading is seen on offline application.</p></li>
<li><p>Currently only supports CCS IDE.</p></li>
</ol>
</section>
<section id="supported-devices">
<h2>4. Supported Devices<a class="headerlink" href="#supported-devices" title="Permalink to this heading">¶</a></h2>
<section id="drv8411a">
<h3>DRV8411A<a class="headerlink" href="#drv8411a" title="Permalink to this heading">¶</a></h3>
<p>Supported MSPM0 Launchpads</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ti.com/tool/LP-MSPM0L1306">LP-MSPM0L1306</a></p></li>
</ul>
<p>Links</p>
<ul class="simple">
<li><p><a class="reference external" href="drv8411a/DRV8411A_Hardware_User_Guide.html">Hardware User Guide</a></p></li>
<li><p><a class="reference external" href="drv8411a/DRV8411A_GUI_User_Guide.html">GUI User Guide</a></p></li>
<li><p><a class="reference external" href="https://dev.ti.com/gallery/view/TIMSPGC/MSPM0L-DRV8411A-EVM-GUI">MSPM0L1306-DRV8411A-EVM-GUI</a></p></li>
</ul>
</section>
<section id="drv8889-q1">
<h3>DRV8889-Q1<a class="headerlink" href="#drv8889-q1" title="Permalink to this heading">¶</a></h3>
<p>Supported MSPM0 Launchpads</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ti.com/tool/LP-MSPM0L1306">LP-MSPM0L1306</a></p></li>
<li><p><a class="reference external" href="https://www.ti.com/tool/LP-MSPM0C1106">LP-MSPM0C1106</a></p></li>
<li><p><a class="reference external" href="https://www.ti.com/tool/LP-MSPM0H3216">LP-MSPM0H3216</a></p></li>
</ul>
<p>Links</p>
<ul class="simple">
<li><p><a class="reference external" href="drv8889-q1/DRV8889-Q1_Hardware_User_Guide.html">Hardware User Guide</a></p></li>
<li><p><a class="reference external" href="drv8889-q1/DRV8889-Q1_GUI_User_Guide.html">GUI User Guide</a></p></li>
<li><p><a class="reference external" href="https://dev.ti.com/gallery/view/TIMSPGC/MSPM0L-DRV8889Q1-EVM-GUI">MSPM0L1306-DRV8889Q1-EVM-GUI</a></p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Stepper Motor Control User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="drv8411a/DRV8411A_GUI_User_Guide.html" class="btn btn-neutral float-right" title="DRV8411A GUI User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">1995-2023, Texas Instruments Incorporated. All rights reserved</a>, Texas Instruments Incorporated. All rights reserved. <br/>
      <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>